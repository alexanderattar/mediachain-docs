<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <title>Mediachain : MCQL</title>
        <meta name="description" content="Docs for the Mediachain Project">

        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/css/syntax.css">
        <link rel="stylesheet" href="/css/main.css">
        <link rel="shortcut icon" type="image/png" href="/favicon.png"/>
        <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    </head>
    <body>

        <div class="container">
            <div class="row">
                <div id="header" class="col-sm-12">
                    <h4><a class="brand" href="/">Mediachain</a>
    <small>Docs for the Mediachain Project</small>
</h4>

                </div>
            </div>

            <div class="row">
                <div id="navigation" class="col-sm-3">
                    <ul class="nav nav-list">
    
      
      
      <h4>Installation and Setup</h4>
      
      
        <li>
          <a href="/install">Installing Mediachain</a>
          
        </li>
      
        <li>
          <a href="/cloud-deploy">Using Mediachain Deploy</a>
          
        </li>
      
        <li>
          <a href="/getting-started">Getting Started</a>
          
        </li>
      
        <li>
          <a href="/nat">Configuring NAT Traversal</a>
          
        </li>
      
        <li>
          <a href="/ssh-tunnel">Controlling a remote node with SSH Tunneling</a>
          
        </li>
      
    
      
      
      <h4>Using Mediachain</h4>
      
      
        <li>
          <a href="/basic-operations">Basic Operations</a>
          
        </li>
      
        <li>
          <a href="/advanced-operations">Advanced Operations</a>
          
        </li>
      
    
      
      
      <h4>Publishing Data</h4>
      
      
        <li>
          <a href="/schema-recommendations">Recommended Schemas</a>
          
        </li>
      
    
      
      
      <h4>Mediachain Architecture</h4>
      
      
        <li>
          <a href="/statements-and-objects">Statements and Objects</a>
          
        </li>
      
        <li>
          <a href="/mcql">MCQL</a>
          
            <div id="nav_current"></div>
          
        </li>
      
    
<!-- List additional links. It is recommended to add a divider
    e.g. <li class="divider"></li> first to break up the content. -->
</ul>

                </div>

                <div id="content" class="col-sm-9">
                    <div class="page-header">
    <h1>MCQL
        
    </h1>
</div>

<p>MCQL is a query language for retrieving statements from the nodeâ€™s statement db.
It supports <code>SELECT</code> (and <code>DELETE</code>) statements with a syntax very similar to SQL, where
namespaces play the role of tables.</p>

<p>Some basic MCQL statements:</p>

<pre><code class="language-sql">-- count statements in the database
SELECT COUNT(*) FROM *

-- see all namespaces in the database
SELECT namespace FROM *

-- count statements in the namespace images.dpla
SELECT COUNT(*) FROM images.dpla

-- lookup statements by media WKI
SELECT * FROM images.dpla WHERE wki = dpla_871570744a860166dba198ca95e13590

-- retrieve a sample of 5 statements from namespace
SELECT * FROM images.dpla LIMIT 5

-- retrieve the last 5 statements merged in the db
SELECT * FROM images.dpla ORDER BY counter DESC LIMIT 5

-- retrieve statement id, insertion counter tuples
SELECT (id, counter) FROM images.dpla

-- see all publishers in the namespace
SELECT publisher FROM images.dpla

-- retrieve all statements by a publisher
SELECT * FROM images.dpla WHERE publisher = 4XTTM4K8sqTb7xYviJJcRDJ5W6TpQxMoJ7GtBstTALgh5wzGm

</code></pre>

<p>The full grammar for MCQL is defined as a PEG in <a href="https://github.com/concat/master/mc/query/query.peg">the concat project</a></p>


                </div>
            </div>

            <div class="row">
                <div id="footer" class="col-sm-12">
                    <a href="http://images.mediachain.io">Attribution Engine</a>
<a class="pl12" href="http://slack.mediachain.io">Slack</a>
<a href="https://github.com/mediachain">Github</a>
<a href="https://blog.mediachain.io">Blog</a>
<a href="https://twitter.com/mediachain_">Twitter</a>

                </div>
            </div>
        </div>
        

        <script type="text/javascript">
          $(function() {
            var toc = $('#table_of_contents');
            if (toc != null) {
              $('#nav_current').append(toc);
              toc.toggle(true);
            }
          })
        </script>
    </body>
</html>
